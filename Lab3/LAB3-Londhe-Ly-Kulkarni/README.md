# Lab 3: Interrupts

- Please view this file in a markdown previewer

Created a game of 'Guess the Height' using the sensor and displayed its menu on the LCD Display using the LM3S8962 Micro-controller. A player has multiple levels of difficulties (Easy, Medium, Hard) to choose from in the main menu of the game. 'Guess the Height' is very similar to the game of 'Hot or Cold'. In this game, a random height is generated by the program. The user's task is to find the randomly chosen height with the help of the sensor. The user places his/her hand above the sensor and and is allowed to move his/her hand till they reach the chosen height. The use of the sensor enables the game to give the user cues on whether the user's hand is currently placed higher or lower than the chosen height. If the user places their hand higher than the randomly generated height, the LCD Displays 'Too High', if the user places their hand lower than the desired height, the LCD displays 'Too Low'. If the user finds the correct height, the user must hold their hand in the same position for about a second. This ensures that the user did indeed intend on guessing that height and was not just moving their hand up and down. Each level of difficulty is associated with an amount of time given to the user to play this game 9 times. To win the game, the player must reach 9 points. After the game is over, the display shows whether the player won or lost as well as there score out of 9. It then prompts the user if they want to play the game again or not.

## Lab Objectives

1. Introduce formal specifications
2. Learn to understand and work with hardware interrupts and use them to implement the distance sensor of the RoboTank system.
3. Write functions that get and debounce simple key presses using interrupts.
4. Update our keypad code from Lab 2 to run more efficiently by replacing polling with interrupt driven software.
5. Develop a function that satisfies the timing requirements of an LCD display.
6. Create a suite of functions that allow software interaction with an LCD display.
7. Develop the infrastructure to allow key presses to interact with the display.
8. Create a full user interface that adheres to specifications.

## Group Members & Contributions

#### Ruchira Kulkarni
- Created README
- Worked on the initial stages of creating the high-low sensing game which involved LCD Display functionality 
- Worked on initializing the GPIO ports for keypad interrupts, and event handlers

#### Eeshan Londhe
- Commented code thoroughly
- Worked on the later stages of the high-low sensing game which involved the random number generation using timers, using timing intertupts for game. 
- Worked on setting up the interrupt event handlers.

#### Denny Ly
- Created flow diagrams and schematic
- Worked on high-low sensing game functionality, initialization and functionality of the LCD Display, and initialization of the GPIO port 
- Looked up the data sheets to find the correct addresses on the Vector Table

<b>Overall, we distributed the work fairly evenly.</b>

## Hardware Setup
We attached the LCD display to the LM3S8962 Micro-controller using the GPIO pins on Port B and D. To see the full schematic, please view the hardware schematic in the report document. We attached the sensor to the 

####LCD SETUP
- The data bits correspond to bits 0 - 6 on Port B. Bit 7 on Port B is unused and is set to ground.
- The Enable, R/W, and RS is wired to bits 5, 6, and 7 on Port D.
- VDD is given 5V
- VCC is wired to a 100K Ohm Potentiometer that is used to vary the display brightness
- VSS is set to ground

####SENSOR SETUP
- Power of the sensor is connected 5V
- Ground is connected to ground
- The white wire should be plugged into the ADC0 header on the Stellaris board.

## Included Files

#### main.c
- This file contains the main function that is executed on the LM3S962 board. It runs the GTH game and menu on the LCD Display.

#### header.h
- Contains all prototypes of all functions used in creating this overall program.

#### keypad.c
- Contains all initializations and other functions to use the key's on the LM3S8962 Micro-controller.

#### display.c
- Contains all initializations and other functions to use the LCD Display on the LM3S8962 Micro-controller. (See Hardware Setup for how the LCD Display is wired to the board)

#### InterruptSetup.c
- Contains all functions needed for initializing Timers and GPIO interrupts as well as event handlers for them 

#### gth.c
- Contains all functions need to play the 'Guess the Height' game using the sensor and LCD Display

#### startup.c
- Contains the Vector Table 

## Notes

See report documentation for further implementation details of this project.
